(this.webpackJsonprelocata=this.webpackJsonprelocata||[]).push([[0],{11:function(e,t,n){e.exports={current:"Current_current__1K4yY",current__divider:"Current_current__divider__15GjJ",current__welcome:"Current_current__welcome__1JYx9",current__hello:"Current_current__hello__1PEn0","wave-animation":"Current_wave-animation__caDCm"}},15:function(e,t,n){e.exports={cityinformation:"CityInformation_cityinformation__3PQWs",cityinformation__preferred:"CityInformation_cityinformation__preferred__3opwX",cityinformation__flightlink:"CityInformation_cityinformation__flightlink__1zEuc"}},16:function(e,t,n){e.exports={statistic__label:"Statistic_statistic__label__28stt",statistic__value:"Statistic_statistic__value__n0EPR"}},21:function(e,t,n){e.exports={input:"Text_input__3PrXf",input__label:"Text_input__label__3w2Bh"}},25:function(e,t,n){e.exports={button:"Button_button__32Xhm"}},29:function(e,t,n){e.exports={preferred:"Preferred_preferred__GEJ2I"}},3:function(e,t,n){e.exports={dropdown:"City_dropdown__kt4QW",dropdown__label:"City_dropdown__label__3eDJu",dropdown__status:"City_dropdown__status__1a64f",dropdown__container:"City_dropdown__container__ijxvL",dropdown__input:"City_dropdown__input__1ybjR","dropdown__input--focused":"City_dropdown__input--focused__35oq4","dropdown__input--open":"City_dropdown__input--open__3isuI","dropdown__suggestions-container":"City_dropdown__suggestions-container__1jpXE","dropdown__suggestions-container--open":"City_dropdown__suggestions-container--open__fJ9xy","dropdown__suggestions-list":"City_dropdown__suggestions-list__2aWUq",dropdown__suggestion:"City_dropdown__suggestion__3n0VJ","dropdown__suggestion--highlighted":"City_dropdown__suggestion--highlighted__Nw1Pd"}},30:function(e,t,n){e.exports={advice:"Advice_advice__3ROJg"}},31:function(e,t,n){e.exports={App:"App_App__2mBMi"}},33:function(e,t,n){e.exports=n(55)},38:function(e,t,n){},55:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(24),c=n.n(o),i=(n(38),n(13)),l=n(8),u=n(25),s=n.n(u),_=function(e){return r.a.createElement("button",{className:s.a.button,onClick:e.onClick,type:"button"},e.text)},p=n(9),d=n.n(p),m=function(e){return r.a.createElement("div",{className:d.a.page},r.a.createElement("div",{className:d.a.page__header},r.a.createElement("div",{className:d.a.page__title},e.title),e.description?r.a.createElement("p",{className:d.a.page__description},e.description):null),e.content?r.a.createElement("div",{className:d.a.page__content},e.content):null,e.link?r.a.createElement("div",{className:d.a.page__actions},r.a.createElement(i.b,{to:{pathname:e.link.url,state:e.link.state}},r.a.createElement(_,{text:e.link.text}))):null)},f=function(){return r.a.createElement(m,{description:"Let us help you decide which city you should relocate to by giving you insight into the current weather, flight costs and city information.",link:{url:"/name",text:"Start"},title:"Relocata"})},g=n(2),h=n(21),v=n.n(h),y=function(e){return r.a.createElement("div",null,r.a.createElement("label",{className:v.a.input__label,htmlFor:"input"},e.label,":"),r.a.createElement("input",{className:v.a.input,name:"input",onChange:function(t){e.onChange(t.target.value)},placeholder:e.placeholder,type:"text"}))},E=function(){var e=Object(a.useState)(""),t=Object(g.a)(e,2),n=t[0],o=t[1],c=r.a.createElement(y,{label:"Name",onChange:function(e){o(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}(e))},placeholder:"First name"});return r.a.createElement(m,{content:c,link:{url:"/current-location",text:"Continue",state:{name:n}},title:"What is your name?"})},b=n(14),w=n(11),C=n.n(w),x=n(1),k=n.n(x),j=n(5),O=n(28),N=n.n(O),S=n(3),P=n.n(S),F=function(){var e=Object(j.a)(k.a.mark((function e(t){var n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.skypicker.com/locations?term=".concat(t,"&locale=en-US&location_types=city&limit=5&active_only=true&sort=name"));case 2:return n=e.sent,e.abrupt("return",n.json());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(j.a)(k.a.mark((function e(t){var n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.skypicker.com/locations?type=radius&lat=".concat(t.coords.latitude,"&lon=").concat(t.coords.longitude,"&radius=10&locale=en-US&location_types=city&limit=5&active_only=true&sort=rank"));case 2:return n=e.sent,e.abrupt("return",n.json());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=function(e){var t=Object(a.useState)(!1),n=Object(g.a)(t,2),o=n[0],c=n[1],i=Object(a.useState)([]),l=Object(g.a)(i,2),u=l[0],s=l[1],_=function(){var e=Object(j.a)(k.a.mark((function e(t){var n,a,r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.value,c(!0),e.next=4,F(n);case 4:a=e.sent,r=a.locations,s(r),c(!1);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p={placeholder:e.placeholder,value:e.value,onChange:function(t,n){var a=n.newValue;e.onChange(a)}};return r.a.createElement("div",{className:P.a.dropdown},e.label?r.a.createElement("label",{className:P.a.dropdown__label},e.label,":"):null,r.a.createElement(N.a,{getSuggestionValue:function(e){return e.name},inputProps:p,onSuggestionsClearRequested:function(){s([])},onSuggestionsFetchRequested:_,renderSuggestion:function(e){return r.a.createElement("div",null,e.name,", ",e.country.name)},suggestions:u,theme:{container:P.a.dropdown__container,input:P.a.dropdown__input,inputOpen:P.a["dropdown__input--open"],inputFocused:P.a["dropdown__input--focused"],suggestionsContainer:P.a["dropdown__suggestions-container"],suggestionsContainerOpen:P.a["dropdown__suggestions-container--open"],suggestionsList:P.a["dropdown__suggestions-list"],suggestion:P.a.dropdown__suggestion,suggestionHighlighted:P.a["dropdown__suggestion--highlighted"]}}),o?r.a.createElement("span",{className:P.a.dropdown__status},"Loading..."):r.a.createElement("span",{className:P.a.dropdown__status}))},L=function(e){var t=e.location.state.name,n=Object(a.useState)(""),o=Object(g.a)(n,2),c=o[0],i=o[1],l=r.a.createElement("div",{className:C.a.current},r.a.createElement(_,{onClick:function(){navigator.geolocation.getCurrentPosition((function(e){T(e).then((function(e){i(e.locations[0].name)}))}))},text:"Get current location"}),r.a.createElement("span",{className:C.a.current__divider},"Or"),r.a.createElement(U,{label:"Search for location",onChange:function(e){i(e)},placeholder:"Type a city name",value:c}));return r.a.createElement(m,{content:l,link:{url:"/preferred-location",text:"Continue",state:Object(b.a)({currentLocation:c},e.location.state)},title:r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:C.a.current__welcome},r.a.createElement("span",{"aria-label":"hello",className:C.a.current__hello,role:"img"},"\ud83d\udc4b")," ","Hi ",t,"!"),r.a.createElement("br",null),r.a.createElement("br",null),"What is your current location?")})},A=n(32),J=n(29),R=n.n(J),I=function(e){var t=e.location.state.currentLocation,n=Object(a.useState)(["","",""]),o=Object(g.a)(n,2),c=o[0],i=o[1],l=r.a.createElement("div",{className:R.a.preferred},function(){for(var e=[],t=function(t){e.push(r.a.createElement(U,{key:t,label:(t+1).toString(),onChange:function(e){return function(e,t){var n=c;n[t]=e,i(Object(A.a)(n))}(e,t)},placeholder:"Search for city",value:c[t]}))},n=0;n<3;n++)t(n);return e}());return r.a.createElement(m,{content:l,link:{url:"/advice",text:"Get advice",state:Object(b.a)({preferredLocations:c},e.location.state)},title:r.a.createElement(r.a.Fragment,null,t,", got it!",r.a.createElement("br",null),r.a.createElement("br",null),"Which cities are you considering?")})},W=n(30),B=n.n(W),D=n(15),H=n.n(D),M=n(16),q=n.n(M),G=function(e){return r.a.createElement("div",{className:q.a.statistic},r.a.createElement("span",{className:q.a.statistic__label},e.label),r.a.createElement("span",{className:q.a.statistic__value},e.value))},V=function(){var e=Object(j.a)(k.a.mark((function e(t,n,a){var r,o,c;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat(a.getUTCDate(),"/").concat(a.getUTCMonth(),"/").concat(a.getUTCFullYear()),o="".concat(a.getUTCDate(),"/").concat(a.getUTCMonth()+3,"/").concat(a.getUTCFullYear()),e.next=4,fetch("https://api.skypicker.com/flights?flyFrom=".concat(t,"&to=").concat(n,"&dateFrom=").concat(r,"&dateTo=").concat(o,"&partner=picky&v=3"));case 4:return c=e.sent,e.abrupt("return",c.json());case 6:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),X=function(e){var t,n=Object(a.useState)(!1),o=Object(g.a)(n,2),c=o[0],i=o[1],l=Object(a.useState)(null),u=Object(g.a)(l,2),s=u[0],_=u[1];return Object(a.useEffect)((function(){(function(){var t=Object(j.a)(k.a.mark((function t(){var n;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i(!0),t.next=3,V("AMS",e.city.code,new Date);case 3:(n=t.sent).data.length>0&&_(n.data[0]),i(!1);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[e.city.name,e.city.country.code,e.city.code]),r.a.createElement("div",{className:"".concat(H.a.cityinformation," ").concat(e.preferred?H.a.cityinformation__preferred:"")},r.a.createElement("h1",null,e.city.name),r.a.createElement("div",null,r.a.createElement("h4",null,"Flight information"),s?r.a.createElement(r.a.Fragment,null,(null===s||void 0===s||null===(t=s.conversion)||void 0===t?void 0:t.EUR)?r.a.createElement(G,{label:"Cost",value:"".concat(s.conversion.EUR," Euros")}):null,(null===s||void 0===s?void 0:s.fly_duration)?r.a.createElement(G,{label:"Flight duration",value:s.fly_duration}):null,(null===s||void 0===s?void 0:s.deep_link)?r.a.createElement("a",{className:H.a.cityinformation__flightlink,href:s.deep_link,rel:"noopener noreferrer",target:"_blank"},"View flight info here"):null):c?r.a.createElement("span",null,"Loading..."):r.a.createElement("span",null,"No flight information currently available"),r.a.createElement("h4",null,"City information"),e.city.population?r.a.createElement(G,{label:"Population",value:e.city.population.toLocaleString()}):null,e.city.airports?r.a.createElement(G,{label:"Airports",value:e.city.airports.toString()}):null,e.city.bus_stations?r.a.createElement(G,{label:"Bus stations",value:e.city.bus_stations.toString()}):null,e.city.stations?r.a.createElement(G,{label:"Train stations",value:e.city.stations.toString()}):null,e.city.hotels?r.a.createElement(G,{label:"Hotels",value:e.city.hotels.toString()}):null,r.a.createElement("h4",null,"Current weather"),r.a.createElement("span",null,"No weather information currently available")))},Y=function(e){var t=Object(a.useState)([]),n=Object(g.a)(t,2),o=n[0],c=n[1];Object(a.useEffect)((function(){(function(){var t=Object(j.a)(k.a.mark((function t(){var n,a;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.location.state.preferredLocations.map(function(){var e=Object(j.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",F(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),t.next=3,Promise.all(n);case 3:a=t.sent,c(a.map((function(e){return e.locations[0]})));case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[e.location.state.preferredLocations]);var i=r.a.createElement("div",{className:B.a.advice},o.map((function(e,t){return r.a.createElement(X,{city:e,key:e.name,preferred:0===t})})));return r.a.createElement(m,{content:i,title:r.a.createElement(r.a.Fragment,null,"Here is your advice ",e.location.state.name)})},K=n(31),Q=n.n(K),z=function(){return r.a.createElement(i.a,null,r.a.createElement("div",{className:Q.a.App},r.a.createElement(l.c,null,r.a.createElement(l.a,{component:Y,path:"/advice"}),r.a.createElement(l.a,{component:I,path:"/preferred-location"}),r.a.createElement(l.a,{component:L,path:"/current-location"}),r.a.createElement(l.a,{component:E,path:"/name"}),r.a.createElement(l.a,{component:f,path:"/"}))))};c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(z,null)),document.getElementById("root"))},9:function(e,t,n){e.exports={page:"Page_page__vuH5o",page__header:"Page_page__header__gvRTs",page__title:"Page_page__title__1ivbK",page__actions:"Page_page__actions__3Evl2",page__content:"Page_page__content__2_ScZ",page__description:"Page_page__description__1lAT4"}}},[[33,1,2]]]);
//# sourceMappingURL=main.43806938.chunk.js.map